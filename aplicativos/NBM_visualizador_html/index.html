<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Visualizador de HTML</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow: hidden;
    }

    header {
      background-color: #4285f4;
      color: white;
      padding: 10px 15px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    header h1 {
      font-size: 1.2rem;
      margin: 0;
    }

    .menu-toggle {
      font-size: 1.5rem;
      background: none;
      border: none;
      color: white;
      display: none;
    }

    .container {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    aside {
      width: 250px;
      background: #f4f4f4;
      overflow-y: auto;
      padding: 15px;
      transition: transform 0.3s ease;
    }

    aside.collapsed {
      transform: translateX(-100%);
    }

    #search-input {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      margin: 5px 0;
    }

    .folder > span {
      font-weight: bold;
      cursor: pointer;
    }

    .subpages {
      margin-left: 15px;
      display: none;
    }

    .folder.open > .subpages {
      display: block;
    }

    iframe {
      flex: 1;
      border: none;
      height: 100%;
    }

    .mobile-overlay {
      display: none;
      position: fixed;
      top: 60px;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 10;
    }

    @media (max-width: 768px) {
      .menu-toggle {
        display: block;
      }

      aside {
        position: fixed;
        top: 60px;
        left: 0;
        bottom: 0;
        z-index: 11;
        transform: translateX(-100%);
      }

      aside.visible {
        transform: translateX(0);
      }

      .mobile-overlay.visible {
        display: block;
      }
    }
  </style>
</head>
<body>
  <header>
    <button class="menu-toggle">☰</button>
    <h1>Visualizador de HTML</h1>
  </header>

  <div class="container">
    <div class="mobile-overlay"></div>

    <aside id="sidebar">
      <input type="text" id="search-input" placeholder="Pesquisar..." />
      <ul id="file-list"></ul>
    </aside>

    <iframe id="viewer" src="about:blank"></iframe>
  </div>

  <script>
    const files = [
        { 
            name: "NBM - Alunos - Lista", 
            path: "content/nbm_alunos_lista.html",
            subpages: [
               
                { 
                    name: "Jerfesson", 
                    path: "content/.html",
                    subpages: [
                        { name: "1 - Jerfesson Violão Popular", path: "content/html/nbm_jefferson_violãopopular.html" },
                        { name: "2 - Jerfesson Violino ", path: "content/.html" },
                        { name: "3 - Jerfesson Teclado", path: "content/.html" },
                        { name: "4 - Jerfesson Saxofone Alto", path: "content/.html" },
                        { name: "5 - Jerfesson Flauta Doce Soprano", path: "content/.html" },
                        { name: "6 - Jerfesson Violão Classico ", path: "content/.html" },
                        { name: "7 - Jerfesson Ukulele", path: "content/.html" },
                        { name: "8 - Jerfesson Trompete", path: "content/.html" },
                        { name: "9 - Jerfesson Canto Coral", path: "content/.html" },
                        { name: "10 - Jerfesson Canto", path: "content/.html" },
                        { name: "11 - Jerfesson Arranjo/Composição", path: "content/.html" },
                        { name: "12 - Jerfesson Harmonia", path: "content/.html" },
                        { name: "13 - Jerfesson Improvisação", path: "content/.html" },
                        { name: "14 - Jerfesson Notação Musical-ABC", path: "content/.html" },
                        { name: "15 - Jerfesson Piano", path: "content/page1/section3/item2.html" }
                    ]

                },

                {
                    name: "Gervásio", 
                    path: "content/Repertório.html",
                    subpages: [
                        { name: "Melodia", path: "content/html/Repertório1.html" },
                        { name: "Harmonia", path: "content/html/Repertório1.html" },
                        { name: "Ritmo", path: "content/html/Repertório1.html" },
                        { name: "Repertório - Cifra", path: "content/html/Repertório2.html" },
                        { name: "Repertório - Cifra e Letra", path: "content/html/Repertório2.html" }
                    ]
                },

                {
                    name: "Hanna", 
                    path: "content/Repertório.html",
                    subpages: [
                        { name: "Melodia", path: "content/html/Repertório1.html" },
                        { name: "Harmonia", path: "content/html/Repertório1.html" },
                        { name: "Ritmo", path: "content/html/Repertório1.html" },
                        { name: "Repertório - Cifra", path: "content/html/Repertório2.html" },
                        { name: "Repertório - Cifra e Letra", path: "content/html/Repertório2.html" },
                        { name: "Repertório - Partitura", path: "content/html/Repertório2.html" }
                    ]
                }
            ]
        },
      
       /* { 
            name: "Outra Página (Exemplo 2)", 
            path: "content/documento.html",
            subpages: [
                { name: "Subpágina 2.1", path: "content/page2/subpage1.html" }
            ]
        },
*/
        {   
            name: "Arquivos - Lista", 
            path: "content/html/listadearquivos.html",
            subpages: [
                { name: "Arquivos", path: "content/html/arquivos_geral.html" }
            ]
        
        }
    ];

    const fileList = document.getElementById("file-list");
    const iframe = document.getElementById("viewer");
    const searchInput = document.getElementById("search-input");
    const sidebar = document.getElementById("sidebar");
    const overlay = document.querySelector(".mobile-overlay");
    const toggle = document.querySelector(".menu-toggle");

    function createList(items, parentUl) {
      items.forEach(item => {
        const li = document.createElement("li");

        if (item.subpages) {
          li.classList.add("folder");
          const span = document.createElement("span");
          span.textContent = item.name;
          span.onclick = () => li.classList.toggle("open");
          li.appendChild(span);

          const subUl = document.createElement("ul");
          subUl.classList.add("subpages");
          createList(item.subpages, subUl);
          li.appendChild(subUl);
        } else {
          const link = document.createElement("a");
          link.href = "#";
          link.textContent = item.name;
          link.onclick = (e) => {
            e.preventDefault();
            iframe.src = item.path;
            document.querySelectorAll("a").forEach(a => a.classList.remove("active"));
            link.classList.add("active");
            if (window.innerWidth <= 768) {
              sidebar.classList.remove("visible");
              overlay.classList.remove("visible");
            }
          };
          li.appendChild(link);
        }

        parentUl.appendChild(li);
      });
    }

    createList(files, fileList);

    searchInput.addEventListener("input", () => {
      const term = searchInput.value.toLowerCase();
      document.querySelectorAll("#file-list a").forEach(link => {
        const text = link.textContent.toLowerCase();
        link.parentElement.style.display = text.includes(term) ? "block" : "none";
      });
    });

    toggle.addEventListener("click", () => {
      sidebar.classList.toggle("visible");
      overlay.classList.toggle("visible");
    });

    overlay.addEventListener("click", () => {
      sidebar.classList.remove("visible");
      overlay.classList.remove("visible");
    });

    // Carregar página principal
    iframe.src = "content/html/listadearquivos.html";
  </script>
</body>
</html>
