<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" type="text/css" href="../css/abcjs-audio.css">
    <link rel="stylesheet" href="../css/examples-styles.css"/>
       <link rel="stylesheet" href="../css/indice.css"/>
    <title>Gervásio</title>
    <script src="../js/dist/abcjs-basic.js" type="text/javascript"></script>
    <script src="../js/main-script.js" type="text/javascript"></script>
    
    <style>
       
    </style>
</head>
<body>
    <header>
        <h1>NBM - Gervásio</h1>
    </header>
    <div class="container">
        <!-- Índice das músicas -->
        <div id="music-index">
            <h2>Índice</h2>
            <ul id="song-list"></ul>
        </div>
        
        <main id="music-container">
            <!-- As seções de música serão adicionadas automaticamente aqui -->
        </main>
    </div>

    <!-- Inclui as músicas individualmente -->
    <!-- Melodia -->



    <!-- Harmonia -->
    <script src="../songs/music23551.js" type="text/javascript"></script>
    <script src="../songs/music23552.js" type="text/javascript"></script>
    <script src="../songs/music23553.js" type="text/javascript"></script>
    <script src="../songs/music23554.js" type="text/javascript"></script>
    <script src="../songs/music23555.js" type="text/javascript"></script>
    <script src="../songs/music23556.js" type="text/javascript"></script>


    <!-- Ritmo -->

    <!-- Repertório -->
    <script src="../songs/music5073.js" type="text/javascript"></script>
    <script src="../songs/music5072.js" type="text/javascript"></script>
    <script src="../songs/music2674.js" type="text/javascript"></script>
    <script src="../songs/music5070.js" type="text/javascript"></script>
    <script src="../songs/music5074.js" type="text/javascript"></script>
    <script src="../songs/music23575.js" type="text/javascript"></script>
    <script src="../songs/music23576.js" type="text/javascript"></script>

    <!-- Script para gerar o índice e as âncoras -->
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function() {
            // Dados das músicas e separadores
            const songData = [
                { type: 'separator', content: 'Melodia' },
                { type: 'separator', content: 'Hamonia' },
                { id: 'music23551', title: '23551 - Tríade - Maiores - Extensão: Oitava' },
                { id: 'music23552', title: '23552 - Tríade - Menores - Extensão: Oitava' },
                { id: 'music23553', title: '23553 - Tríade - Diminutos - Extensão: Oitava' },
                { id: 'music23554', title: '23554 - Tríade - Quinta Aumentada - Extensão: Oitava' },
                { id: 'music23555', title: '23555 - Tríade - Sus2 - Extensão: Oitava' },
                { id: 'music23556', title: '23556 - Tríade - Sus4 - Extensão: Oitava' },
                { type: 'separator', content: 'Ritmo' },
                { type: 'separator', content: 'Repertório' },
                { id: 'music5073', title: '5073 - Noites Traiçoeiras' },
                { id: 'music5072', title: '5072 - Fascinação' },
                { id: 'music2674', title: '2674 - Ave Maria - Gounod Charles' },
                { id: 'music5070', title: '5070 - Todos reunidos na casa de Deus' },
                { id: 'music5074', title: '5074 - Tu Te Abeiraste da Praia (A  Barca)' },
                { id: 'music23575', title: '23575 - Tu es minha vida' },
                { id: 'music23576', title: '23576 - A Ti meu Deus, elevo o meu coração' }
            ];

            const musicContainer = document.getElementById('music-container');
            const songList = document.getElementById('song-list');
            
            // Processa cada item (música ou separador)
            songData.forEach(item => {
                if (item.type === 'separator') {
                    // Adiciona um separador/parágrafo
                    const listItem = document.createElement('li');
                    listItem.className = 'separator-item';
                    
                    const paragraph = document.createElement('p');
                    paragraph.textContent = item.content;
                    paragraph.style.fontWeight = 'bold';
                    paragraph.style.margin = '15px 0 5px 0';
                    
                    listItem.appendChild(paragraph);
                    songList.appendChild(listItem);
                } else {
                    // Adiciona uma música normal
                    const songId = item.id;
                    const songName = item.title;
                    
                    // Cria a seção da música
                    let songSection = document.getElementById(songId);
                    if (!songSection) {
                        songSection = document.createElement('div');
                        songSection.id = songId;
                        songSection.className = 'song-section';
                        musicContainer.appendChild(songSection);
                        
                        const title = document.createElement('h3');
                        title.textContent = songName;
                        songSection.appendChild(title);
                    }
                    
                    // Adiciona ao índice
                    const listItem = document.createElement('li');
                    const paragraph = document.createElement('p');
                    paragraph.className = 'song-item';
                    
                    const link = document.createElement('a');
                    link.href = `#${songId}`;
                    link.textContent = songName;
                    
                    paragraph.appendChild(link);
                    listItem.appendChild(paragraph);
                    songList.appendChild(listItem);
                }
            });
            
            // Configura o scroll suave
            document.querySelectorAll('#song-list a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const target = document.getElementById(targetId);
                    if (target) {
                        window.scrollTo({
                            top: target.offsetTop - 20,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>