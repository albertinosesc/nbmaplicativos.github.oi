<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Biblioteca Musical Digital</title>
<style>
body { font-family: Arial, sans-serif; margin: 20px; }
nav h2, nav h3 { margin: 5px 0; }
nav ul { list-style: none; padding-left: 20px; }
nav li { margin: 3px 0; cursor: pointer; color: #0066aa; }
nav li:hover { text-decoration: underline; }
#iframeConteudo { width: 100%; height: 600px; border: 1px solid #ccc; }
</style>
</head>
<body>

<h1>ðŸ“š Biblioteca Musical</h1>
<nav id="menu"></nav>
<hr>
<iframe id="iframeConteudo"></iframe>

<script>
// Carrega menu do JSON
fetch('menu.json')
  .then(res => res.json())
  .then(data => {
    const menu = document.getElementById('menu');
    for (const cat in data) {
      const h2 = document.createElement('h2');
      h2.textContent = cat;
      menu.appendChild(h2);

      const subcats = data[cat];
      for (const sub in subcats) {
        const h3 = document.createElement('h3');
        h3.textContent = sub;
        menu.appendChild(h3);

        const ul = document.createElement('ul');
        subcats[sub].forEach(file => {
          const li = document.createElement('li');
          li.textContent = file.split("/").pop().replace(".html", "").replace(/-/g," ");
          li.onclick = () => carregar(file);
          ul.appendChild(li);
        });
        menu.appendChild(ul);
      }
    }
  });

function carregar(url) {
  fetch(url)
    .then(res => res.text())
    .then(html => {
      document.getElementById('iframeConteudo').srcdoc = html;
    })
    .catch(err => console.error(err));
}
</script>

</body>
</html>
